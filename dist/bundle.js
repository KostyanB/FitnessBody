(()=>{"use strict";const e=function(e){var t=e.duration,n=e.draw,r=e.timing,o=performance.now();requestAnimationFrame((function e(a){var l=(a-o)/t;l>1&&(l=1);var i=r(l);n(i),l<1&&requestAnimationFrame(e)}))},t=function(t){var n=document.querySelector(".open-free"),r=document.querySelector(".open-callback"),o=document.querySelector(".fixed-gift"),a=document.getElementById("free_visit_form"),l=document.getElementById("callback_form"),i=document.querySelectorAll(".form-wrapper"),c=i[2].childNodes[1].childNodes[1],s=i[1].childNodes[1].childNodes[1],u=function(t,n){var r,o;t.style.display="block",n.style.transform="translateY(-100%)",r=n,o=.2*document.documentElement.clientHeight,e({duration:300,timing:function(e){return e},draw:function(e){var t=120*e-100;r.getBoundingClientRect().top<o&&(r.style.transform="translateY(".concat(t,"%)"))}})};t&&(u(t,i[3]),setTimeout((function(){return t.style.display="none"}),5e3)),document.addEventListener("click",(function(e){if(e.target===n?(e.preventDefault(),u(a,i[2])):(e.target===c||e.target.closest(".overlay"))&&(a.style.display="none"),e.target===r?u(l,i[1]):(e.target===s||e.target.closest(".overlay"))&&(l.style.display="none"),o){var d=o.childNodes[1],m=i[4].childNodes[1].childNodes[1],f=document.getElementById("gift"),p=document.querySelector(".gift-close");e.target===d?(d.style.display="none",u(f,i[4])):(e.target===m||p||e.target.closest(".overlay"))&&(f.style.display="none")}if(t){var v=t.querySelectorAll(".close-form"),y=document.querySelector(".thanks-close");(e.target===v||y||e.target.closest(".overlay"))&&(t.style.display="none")}}))};function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const r=function(){function e(t){var n=t.wrap,r=t.wrapName,o=t.placeName;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrap=document.querySelector(n),this.prevBtn=document.createElement("button"),this.nextBtn=document.createElement("button"),this.wrapName=r,this.placeName=o}var t,r;return t=e,(r=[{key:"setBtn",value:function(){this.prevBtn.className="".concat(this.wrapName,"-arrow prev ").concat(this.placeName,"-prev"),this.nextBtn.className="".concat(this.wrapName,"-arrow next ").concat(this.placeName,"-next"),this.prevBtn.innerHTML='<span><img src="./images/arrow-left.png"></span>',this.nextBtn.innerHTML='<span><img src="./images/arrow-right.png"></span>',this.wrap.append(this.prevBtn),this.wrap.append(this.nextBtn)}},{key:"init",value:function(){this.setBtn()}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const a=function(){function e(t){var n=t.wrap,r=t.wrapName,o=t.slidesName;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrap=document.querySelector(n),this.dotsWrap=document.createElement("ul"),this.dotsWrap.className="slider-dots",this.wrap.append(this.dotsWrap),this.wrapName=r,this.slidesName=o}var t,n;return t=e,(n=[{key:"addDot",value:function(){var e=this,t=document.querySelectorAll(this.slidesName),n=document.createElement("li");n.innerHTML="<button></button>",n.className="".concat(this.wrapName,"-dot"),t.forEach((function(t,r){t[r]=n.cloneNode(!0),e.dotsWrap.append(t[r])})),document.querySelectorAll(".".concat(this.wrapName,"-dot"))[0].classList.add("slick-active")}},{key:"init",value:function(){this.addDot()}}])&&o(t.prototype,n),e}();function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const s=function(e,n,r){var o="Произошла ошибка отправки. Попробуйте еще раз позже",a=document.getElementById("thanks"),l=new FormData(e),i={};l.forEach((function(e,t){i[t]=e}));var c=function(){return r.textContent=""},s=function(e,t){r.style.color=e,r.textContent=t,setTimeout(c,3e3)};(function(e){return s("#19b5fe","Отправка..."),fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(i).then((function(r){if(200!==r.status)throw new Error("Status network not 200");!function(){for(var r=e.children,o=0;o<r.length-1;o++)r[o].removeAttribute("hidden");c(),function(){n.forEach((function(e){e.value="",e.removeAttribute("style")}));var t=e.querySelector('[type="checkbox"]');t&&(t.checked="false")}();var l=e.closest(".popup");e.closest(".popup")&&(l.style.display="none"),t(a)}()})).catch((function(n){!function(n){n&&console.error(n),"banner-form"===e.id?(a.children[1].children[1].children[1].textContent=o,c(),t(a)):s("#fe193f",o)}(n)}))};var u,d,m,f,p,v,y,g,h,b;h=document.getElementById("club-selector"),b=document.getElementById("fallout-activator"),document.addEventListener("click",(function(t){var n;t.target===b?(h.style.display="block",h.style.transform="translateY(-100%)",n=b.getBoundingClientRect().bottom+15,e({duration:500,timing:function(e){return e},draw:function(e){var t=h.getBoundingClientRect().top,r=(n- -100)*e-100;t<n&&(h.style.transform="translateY(".concat(r,"%)"))}})):t.target!==b&&(h.style.display="none")})),t(),function(){document.querySelector(".main-slider");var e=document.querySelectorAll(".head-slide-content"),t=0,n=function(){e[t].style.display="none",++t>=e.length&&(t=0),e[t].style.display="flex"};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;setInterval(n,e)}(2e3)}(),function(){for(var e=document.querySelector(".gallery-slider"),t=document.querySelectorAll(".photo-slide"),n=1;n<t.length;n++)t[n].style.display="none";var o;(o=document.createElement("style")).textContent="\n            .gallery-slider {\n                position: relative;\n            }\n            .gallery-slider .slider-arrow {\n                background: transparent;\n                border: none;\n                cursor: default !important;\n            }\n            .gallery-slider .slider-arrow span {\n                cursor: pointer;\n            }\n            ",document.head.appendChild(o),new a({wrap:".gallery-slider",wrapName:"slider",slidesName:".photo-slide"}).init(),new r({wrap:".gallery-slider",wrapName:"slider",placeName:"gallery"}).init();var l,i=document.querySelector(".slider-arrow.prev"),c=document.querySelector(".slider-arrow.next"),s=function(e,t){e[t].style.display="none"},u=function(e,t){e[t].style.display="block"},d=function(e,t,n){e[t].classList.remove(n)},m=function(e,t,n){e[t].classList.add(n)},f=0,p=document.querySelectorAll(".slider-dot"),v=function(){s(t,f),d(p,f,"slick-active"),++f>=t.length&&(f=0),u(t,f),m(p,f,"slick-active")},y=function(){l=setInterval(v,2e3)};y(),e.addEventListener("click",(function(e){s(t,f),d(p,f,"slick-active"),e.target.closest(".gallery-next")?f++:e.target.closest(".gallery-prev")?f--:e.target.closest(".slider-dot")&&p.forEach((function(t,n){t===e.target.parentNode&&(f=n)})),f<0?f=t.length-1:f>=t.length&&(f=0),u(t,f),m(p,f,"slick-active")})),e.addEventListener("mouseover",(function(e){(e.target.parentNode.classList.contains("slider-arrow")||e.target.parentNode.classList.contains("slider-dot"))&&clearInterval(l)})),i.firstChild.addEventListener("mouseleave",(function(e){y()})),c.firstChild.addEventListener("mouseleave",(function(e){y()})),e.addEventListener("mouseout",(function(e){"slider-dot"===e.target.parentNode.className&&y()}))}(),function(){for(var e=document.querySelector(".services-slider"),t=(document.querySelector(".services-wrapper"),document.querySelector(".services-slider").children),n=0;n<t.length;n++)t[n].classList.add("services-slide_content");var o=document.querySelectorAll(".services-slide_content");new r({wrap:".services-wrapper",wrapName:"slider",placeName:"services"}).init();var a,i=document.querySelector(".services-prev"),c=document.querySelector(".services-next");(a=document.createElement("style")).textContent="\n        .services-wrapper .slider-arrow {\n            border: none;\n            background: transparent;\n            top: 45%\n        }\n        .services-wrapper .slider-arrow.prev {\n            left: 5%\n        }\n        .services-wrapper .slider-arrow.next {\n            right: 5%\n        }\n        ",document.head.appendChild(a);var s,u,d,m,f,p,v=[{breakpoint:1400,slidesToShow:5},{breakpoint:1200,slidesToShow:4},{breakpoint:992,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}],y=6,g=Math.floor(100/y),h=function(){g=Math.floor(100/y),s=o.length-y,function(){var e=document.createElement("style");e.textContent="\n\n        .services-wrapper {\n            overflow: hidden !important;\n            position: relative;\n        }\n        .services-slider {\n            will-change: transform !important;\n            transition: transform 0.5s !important;\n        }\n        .services-slide_content {\n            flex: 0 0 ".concat(g,"%;\n        }\n        "),document.head.appendChild(e)}()};h(),u=y,d=v.map((function(e){return e.breakpoint})),m=Math.max.apply(Math,function(e){if(Array.isArray(e))return l(e)}(p=d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),(f=function(){var e=document.documentElement.clientWidth;if(e<m)for(var t=0;t<d.length;t++)e<d[t]&&(y=v[t].slidesToShow,h());else y=u,h()})(),window.addEventListener("resize",f);var b=0;i.addEventListener("click",(function(){b>0?(--b,e.style.transform="translateX(-".concat(b*g,"%)")):0===b&&(b=s,e.style.transform="translateX(-".concat(b*g,"%)"))})),c.addEventListener("click",(function(){b<s?(++b,e.style.transform="translateX(-".concat(b*g,"%)")):b===s&&(b=0,e.style.transform="translateX(0%)")}))}(),document.body.addEventListener("input",(function(e){"Общая площадь*"!==e.target.placeholder&&"Количество помещений"!==e.target.placeholder&&"Срок исполнения (в днях)"!==e.target.placeholder||(e.target.value=e.target.value.replace(/[^0-9]/g,"")),"form-name"===e.target.className&&(e.target.value=e.target.value.replace(/[^а-яА-ЯёЁ-\s]/g,"")),"form-phone"===e.target.className&&function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",r=document.querySelectorAll(e),o=function(e){var t=e.keyCode,r=n,o=r.replace(/\D/g,""),a=this.value.replace(/\D/g,""),l=0,i=r.replace(/[_\d]/g,(function(e){return l<a.length?a.charAt(l++)||o.charAt(l):e}));-1!=(l=i.indexOf("_"))&&(i=i.slice(0,l));var c=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=i),"blur"===e.type&&this.value.length<5&&(this.value="")},a=i(r);try{for(a.s();!(t=a.n()).done;){var l=t.value;l.addEventListener("input",o),l.addEventListener("focus",o),l.addEventListener("blur",o)}}catch(e){a.e(e)}finally{a.f()}}(".form-phone"),"form-promo"===e.target.className&&(e.target.value=e.target.value.replace(/[^а-яА-ЯёЁ0-9]/gm,""))})),g={correctName:!0,correctTel:!0},document.body.addEventListener("change",(function(e){var t=function(t){var n=e.target.closest("form");if(n){var r=n.querySelector(".btn");e.target.style.border=t?"2px solid #fe193f":"2px solid #19fe52",Object.values(g).every((function(e){return e}))?r.removeAttribute("disabled"):r.setAttribute("disabled","true")}};if("form-name"===e.target.className){e.target.value=e.target.value.replace(/\s+/g," ");var n=e.target.value.trim().split(" "),r="";n.forEach((function(e){r+="".concat(e.charAt(0).toUpperCase()+e.substring(1)," ")}))," "===r?(e.target.value="",g.correctName=!1,t(!0)):r.length<3?(e.target.value=r,g.correctName=!1,t(!0)):(e.target.value=r,g.correctName=!0,t(!1))}"form-phone"===e.target.className&&(e.target.value=e.target.value.replace(/^\+\d{1}\s/g,"+7 "),e.target.value.replace(/[\s\+\(\)-]*/g,"").length<11?(g.correctTel=!1,t(!0)):(g.correctTel=!0,t(!1))),"form-promo"===e.target.className&&(e.target.value&&!/^тело2021$/gi.test(e.target.value)?e.target.style.border="2px solid #fe193f":e.target.value&&/^тело2021$/gi.test(e.target.value)?e.target.style.border="2px solid #19fe52":e.target.style.border="1px solid #b7b7b7")})),function(){var e=document.createElement("div");e.style.cssText="font-size: 1.2em",document.querySelectorAll('[type="checkbox"]').forEach((function(e){return e.removeAttribute("required")}));var t=document.querySelector(".form-promo");t&&t.removeAttribute("required"),document.body.addEventListener("submit",(function(t){t.preventDefault();var n=t.target;n&&(n.appendChild(e),function(t){var n=t.querySelectorAll("input"),r=function(t){e.style.color="#fe193f",e.textContent=t,setTimeout((function(){return e.textContent=""}),3e3)};if(t.closest("footer")){var o=t.querySelectorAll('[type="radio"]');o[0].checked||o[1].checked?(o[0].checked||o[1].checked)&&s(t,n,e):r("Вы не выбрали клуб")}else{var a=t.querySelector('[type="checkbox"]');a.removeAttribute("required"),a.checked?s(t,n,e):r("Вы не отметили согласие")}}(n))}))}(),function(){var e=document.getElementById("card_order"),t=e.querySelector("#price-total"),n=document.querySelector(".form-promo"),r="mozaika",o=1,a=1999,l=1,i={mozaika1:1999,mozaika6:9990,mozaika9:13990,mozaika12:19990,schelkovo1:2999,schelkovo6:14990,schelkovo9:21990,schelkovo12:24990},c=function(){t&&(t.textContent=Math.round(a*l))};c();var s=function(){var e="".concat(r).concat(o);a=i[e],c()};s(),e.addEventListener("click",(function(e){"card-type"===e.target.name&&e.target.value&&(o=e.target.value,s()),"club-name"===e.target.name&&(r=e.target.value,s())})),n&&n.addEventListener("change",(function(e){e.target.value&&/^тело2021$/gi.test(e.target.value)?(l=.7,s()):(l=1,s())}))}(),v=document.querySelector(".top-menu").getBoundingClientRect().top,y=document.createElement("style"),window.addEventListener("scroll",(function(){window.pageYOffset>=v?(y.textContent="\n        #club-selector {\n            z-index: 5000;\n        }\n        .top-menu {\n            position: fixed;\n        }\n        ",document.head.appendChild(y)):(y.textContent="\n        #club-selector {\n            z-index: 5000;\n        }\n        .top-menu {\n            position: relative;\n        }\n        ",document.head.appendChild(y))})),f=document.querySelector(".popup-menu"),p=document.getElementById("menu-button"),document.addEventListener("click",(function(t){t.target===p&&(f.style.display="flex",f.style.transform="translateY(-100%)",e({duration:500,timing:function(e){return e},draw:function(e){var t=-100- -100*e;f.getBoundingClientRect().top<0&&(f.style.transform="translateY(".concat(t,"%)"))}})),t.target.closest(".close-menu-btn")&&(f.style.display="none"),t.target.closest(".popup-links")&&(f.style.display="none")})),u=document.getElementById("totop"),d=u.parentNode,m=document.querySelector("section"),d.setAttribute("hidden","true"),window.addEventListener("scroll",(function(){m.getBoundingClientRect().bottom<50?(d.removeAttribute("hidden"),u.addEventListener("click",(function(t){t.preventDefault();var n=document.documentElement.scrollTop;e({duration:300,timing:function(e){return e},draw:function(e){var t=n*(1-e);t>=0&&document.documentElement.scrollTo(0,t)}})}))):d.setAttribute("hidden","true")}))})();